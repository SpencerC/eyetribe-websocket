!function t(n,e,r){function i(u,s){if(!e[u]){if(!n[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var c=e[u]={exports:{}};n[u][0].call(c.exports,function(t){var e=n[u][1][t];return i(e?e:t)},c,c.exports,t,n,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,n,e){var r,i,o,u,s={}.hasOwnProperty,a=function(t,n){function e(){this.constructor=t}for(var r in n)s.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};u=t("underscore"),i=t("events").EventEmitter,o=1e3,r=function(t){function n(t){null==t&&(t={}),t=u.defaults(t,e),this.host=t.host,this.port=t.port,this.allowReconnect=t.allowReconnect,this.reconnectionInterval=t.reconnectionInterval}var e,r,i,s;return a(n,t),e={host:"$SERVER_HOST",port:parseInt("$SERVER_PORT"),allowReconnect:!0,reconnectionInterval:500},n.prototype.connect=function(){var t;return this.socket||(t=this,this.socket=new WebSocket((document.location.protocol.startsWith("https")?"wss":"ws")+("://"+this.host+":"+this.port)),this.socket.onopen=function(){},this.socket.onclose=function(n){return r.call(t,n.code,n.reason)},this.socket.onmessage=function(n){return"OK"===n.data?i.call(t):s.call(t,n.data)},this.socket.onerror=function(t){return console.log("onerror",t)}),this},i=function(){return this.stopReconnection(),this.connected=!0,this.emit("connect")},r=function(t,n){return delete this.socket,this.connected&&(this.connected=!1,this.emit("disconnect",t,n)),t!==o&&this.allowReconnect?this.reconnect(this.reconnectionInterval):void 0},s=function(t){var n,e,r,i,o,u;for(o=t.split("\n"),u=[],r=0,i=o.length;i>r;r++)n=o[r],n.length>0?(e=JSON.parse(n),u.push(this.emit(e.category,e))):u.push(void 0);return u},n.prototype.disconnect=function(){var t;return this.stopReconnection(),null!=(t=this.socket)?t.close(o):void 0},n.prototype.reconnect=function(t){var n;return null==t&&(t=this.reconnectionInterval),n=this,this.reconnecting=setTimeout(function(){return n.connect()},t)},n.prototype.stopReconnection=function(){return this.reconnecting=clearTimeout(this.reconnecting)},n.prototype.send=function(t){return this.socket?(t instanceof Object&&(t=JSON.stringify(t)),this.socket.send(t)):void 0},n}(i),n.exports=r},{events:10,underscore:11}],2:[function(t,n,e){var r,i,o,u,s={}.hasOwnProperty,a=function(t,n){function e(){this.constructor=t}for(var r in n)s.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};u=t("./point2d"),i=function(){function t(t){this.data=t,this.timestampString=t.timestamp,this.timestamp=t.time,this.state=t.state,this.raw=this.rawCoordinates=new u(t.raw),this.average=this.smoothedCoordinates=new u(t.avg),this.leftEye=new r(r.LEFT,t.lefteye),this.rightEye=new r(r.RIGHT,t.righteye),this.eyes=[this.leftEye,this.rightEye],this.isFixated=t.fix}return t.STATE_TRACKING_GAZE=1,t.STATE_TRACKING_EYES=2,t.STATE_TRACKING_PRESENCE=4,t.STATE_TRACKING_FAIL=8,t.STATE_TRACKING_LOST=16,t.prototype.dump=function(){return"Gaze Data:<br>Frame [ state:"+this.state+" | timestamp:"+this.timestamp+" | fixated:"+this.isFixated+" | raw:"+this.raw.toString()+" | average:"+this.average.toString()+" ]<br><br>Eyes:<br>"+this.leftEye.dump()+"<br>"+this.rightEye.dump()+"<br><br>Raw JSON: "+JSON.stringify(this.data)+"<br>"},t}(),r=function(){function t(t,n){this.type=t,this.data=n,this.raw=this.rawCoordinates=new u(n.raw),this.average=this.smoothedCoordinates=new u(n.avg),this.pupilCenter=this.pupilCenterCoordinates=new u(n.pcenter),this.pupilSize=n.psize}return t.LEFT=0,t.RIGHT=1,t.prototype.dump=function(){var n;return n=function(){switch(this.type){case t.LEFT:return"left";case t.RIGHT:return"right"}}.call(this),"Eye("+n+") [ raw:"+this.raw.toString()+" | average:"+this.average.toString()+" | pupilSize:"+this.pupilSize+" | pupilCenter:"+this.pupilCenter.toString()+" ]"},t}(),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,t),n.Eye=r,n}(i),n.exports=o},{"./point2d":6}],3:[function(t,n,e){var r,i,o,u;i=t("./gazedata"),r=i.Eye,u=t("./point2d"),o=function(){function t(){}var n,e;return t.getEyesCenterNormalized=function(t,n){var e;return t instanceof i&&(e=t,t=e.leftEye,n=e.rightEye),null!=t&&null!=n?t.pupilCenter.add(n.pupilCenter).divide(2):null!=t?t.pupilCenter:null!=n?n.pupilCenter:void 0},t.getEyesCenterPixels=function(t,n,e,r){var o;return t instanceof i&&(t=arguments[0],e=arguments[1],r=arguments[2]),o=this.getEyesCenterNormalized(t,n),this.getRelativeToScreenSpace(o,e,r)},e=.1,n=.3,t.getEyesDistanceNormalized=function(t,r){var o,u;return t instanceof i&&(u=t,t=u.leftEye,r=u.rightEye),o=Math.abs(this.getDistancePoint2D(t.pupilCenter,r.pupilCenter)),e>o&&(e=o),o>n&&(n=o),o/(n-e)},t.getDistancePoint2D=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},t.getRelativeToScreenSpace=function(t,n,e){return null!=t?new u(Math.round(t.x*n),Math.round(t.y*e)):void 0},t.getNormalizedCoords=function(t,n,e){return null!=t?new u(t.x/n,t.y/e):void 0},t.getNormalizedMapping=function(t,n,e){return t=this.getNormalizedCoords(t,e,e),null!=t?new u(2*t.x-1,2*t.y-1):void 0},t}(),n.exports=o},{"./gazedata":2,"./point2d":6}],4:[function(t,n,e){var r;r=function(){function t(t){var n;this.tracker=t,n=this,t.on("heartbeatinterval",function(t){return n.restart(t)})}return t.prototype.start=function(t){var n,e;return this.intervalMillis=t,e=this,n=this.tracker.connection,null!=t?(null==this.intervalId&&(this.intervalId=setInterval(function(){return n.send('{"category":"heartbeat"}')},t)),n.once("disconnect",function(){return e.stop()})):this.tracker.get("heartbeatinterval"),this},t.prototype.restart=function(t){return this.intervalMillis!==t&&this.stop(),this.start(t)},t.prototype.stop=function(){return this.intervalId=clearInterval(this.intervalId)},t}(),n.exports=r},{}],5:[function(t,n,e){var r;r=function(){function n(){}return n.version=t("./version"),n.Tracker=t("./tracker"),n.Protocol=t("./protocol"),n.GazeData=t("./gazedata"),n.GazeUtils=t("./gazeutils"),n.Point2D=t("./point2d"),n._=t("underscore"),n.loop=function(t,n){var e;return"function"==typeof t&&(e=[t,{}],n=e[0],t=e[1]),this.loopTracker=new this.Tracker(t).loop(n)},n}(),n.exports=r},{"./gazedata":2,"./gazeutils":3,"./point2d":6,"./protocol":7,"./tracker":8,"./version":9,underscore:11}],6:[function(t,n,e){var r;r=function(){function t(t,n){var e,r,i;null!=t&&null==n&&(t instanceof Array?(e=t,t=e[0],n=e[1]):null!=t.x?(r=t,t=r.x,n=r.y):null!=t.left&&(i=t,t=i.left,n=i.top)),this.x=t||0,this.y=n||0}return t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y)},t.prototype.subtract=function(n){return new t(this.x-n.x,this.y-n.y)},t.prototype.multiply=function(n){return new t(this.x*n,this.y*n)},t.prototype.divide=function(n){return new t(this.x/n,this.y/n)},t.prototype.average=function(){return(this.x+this.y)/2},t.prototype.toString=function(){return""+this.x+", "+this.y},t}(),n.exports=r},{}],7:[function(t,n,e){var r;r=function(){function t(){}return t.CATEGORIES=["tracker","calibration","hertbeat"],t.STATUSCODE_SUCCESS=200,t.STATUSCODE_NOT_FOUND=400,t.STATUSCODE_FAILURE=500,t.STATUSCODE_CALIBRATION_UPDATE=800,t.STATUSCODE_SCREEN_UPDATE=801,t.STATUSCODE_TRACKER_UPDATE=802,t.MUTABLE_CONFIG_KEYS=["version","push","screenindex","screenresw","screenresh","screenpsyw","screenpsyh"],t.CONFIG_KEYS=t.MUTABLE_CONFIG_KEYS.concat(["heartbeatinterval","trackerstate","framerate","iscalibrated","iscalibrating","calibresult"]),t.PROPERTY_KEYS=t.CONFIG_KEYS.concat(["frame"]),t.TRACKER_CONNECTED=0,t.TRACKER_NOT_CONNECTED=1,t.TRACKER_CONNECTED_BADFW=2,t.TRACKER_CONNECTED_NOUSB3=3,t.TRACKER_CONNECTED_NOSTREAM=4,t.prototype.request=function(t,n,e){return JSON.stringify({category:t,request:n,values:e})},t.prototype.response=function(t){return{category:category,request:request,values:values}},t}(),n.exports=r},{}],8:[function(t,n,e){var r,i,o,u,s,a,c,l={}.hasOwnProperty,f=function(t,n){function e(){this.constructor=t}for(var r in n)l.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};c=t("underscore"),r=t("./connection"),u=t("./heartbeat"),s=t("./protocol"),o=t("./gazedata"),i=t("events").EventEmitter,a=function(t){function n(t){null==t&&(t={}),this.config=c.defaults(t,e),this.heartbeat=new u(this)}var e,i,a,l;return f(n,t),e={version:1,push:!0},n.prototype.connect=function(t){var n;return null==t&&(t=this.config),n=this,null==this.connection&&(this.connection=new r(t).connect().on("tracker",function(){return a.apply(n,arguments)}).on("connect",function(){return i.apply(n,arguments)}).on("disconnect",function(){return l.apply(n,arguments)})),this},i=function(){return this.set(this.config),this.get(s.CONFIG_KEYS,function(t){return c.extend(this.config,t)}),this.heartbeat.start(),this.emit("connect")},l=function(t,n){return this.emit("disconnect",t,n),this.removeAllListeners("__values__")},n.prototype.disconnect=function(){var t;return null!=(t=this.connection)&&t.disconnect(),delete this.connection},a=function(t){var n,e,r,i;if("get"===t.request&&null!=t.values){n=t.values.frame,this.frame=n?new o(n):void 0,this.emit("__values__",t.values),i=t.values;for(e in i)r=i[e],"frame"!==e&&this.emit(e,r);if(this.frame)return this.emit("frame",this.frame)}},n.prototype.set=function(t){return t=c.pick(t,s.MUTABLE_CONFIG_KEYS),this.connection.send({category:"tracker",request:"set",values:t}),this},n.prototype.get=function(t,n){var e,r;if(c.isString(t)&&(!function(e){return(t={})[e]=n}(t),n=void 0),c.isArray(t))null!=n&&(r=function(t){return n.call(this,t)?this.removeListener("__values__",r):void 0},this.on("__values__",r));else{for(e in t)n=t[e],n&&this.once(e,n);t=c.keys(t)}return this.connection.send({category:"tracker",request:"get",values:t}),this},n.prototype.loop=function(t){return this.on("frame",t).connect()},n}(i),n.exports=a},{"./connection":1,"./gazedata":2,"./heartbeat":4,"./protocol":7,events:10,underscore:11}],9:[function(t,n,e){n.exports={full:"0.1.4",major:0,minor:1,dot:4}},{}],10:[function(t,n,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function u(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}n.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var n,e,r,o,a,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if(n=arguments[1],n instanceof Error)throw n;throw TypeError('Uncaught, unspecified "error" event.')}if(e=this._events[t],s(e))return!1;if(i(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),a=1;r>a;a++)o[a-1]=arguments[a];e.apply(this,o)}else if(u(e)){for(r=arguments.length,o=new Array(r-1),a=1;r>a;a++)o[a-1]=arguments[a];for(c=e.slice(),r=c.length,a=0;r>a;a++)c[a].apply(this,o)}return!0},r.prototype.addListener=function(t,n){var e;if(!i(n))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(n.listener)?n.listener:n),this._events[t]?u(this._events[t])?this._events[t].push(n):this._events[t]=[this._events[t],n]:this._events[t]=n,u(this._events[t])&&!this._events[t].warned){var e;e=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[t].length>e&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,n){function e(){this.removeListener(t,e),r||(r=!0,n.apply(this,arguments))}if(!i(n))throw TypeError("listener must be a function");var r=!1;return e.listener=n,this.on(t,e),this},r.prototype.removeListener=function(t,n){var e,r,o,s;if(!i(n))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(e=this._events[t],o=e.length,r=-1,e===n||i(e.listener)&&e.listener===n)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,n);else if(u(e)){for(s=o;s-->0;)if(e[s]===n||e[s].listener&&e[s].listener===n){r=s;break}if(0>r)return this;1===e.length?(e.length=0,delete this._events[t]):e.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,n)}return this},r.prototype.removeAllListeners=function(t){var n,e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(n in this._events)"removeListener"!==n&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events={},this}if(e=this._events[t],i(e))this.removeListener(t,e);else for(;e.length;)this.removeListener(t,e[e.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var n;return n=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,n){var e;return e=t._events&&t._events[n]?i(t._events[n])?1:t._events[n].length:0}},{}],11:[function(t,n,e){(function(){function t(t){function n(n,e,r,i,o,u){for(;o>=0&&u>o;o+=t){var s=i?i[o]:o;r=e(r,n[s],s,n)}return r}return function(e,r,i,o){r=w(r,o,4);var u=!C(e)&&E.keys(e),s=(u||e).length,a=t>0?0:s-1;return arguments.length<3&&(i=e[u?u[a]:a],a+=t),n(e,r,i,u,a,s)}}function r(t){return function(n,e,r){e=b(e,r);for(var i=O(n),o=t>0?0:i-1;o>=0&&i>o;o+=t)if(e(n[o],o,n))return o;return-1}}function i(t,n,e){return function(r,i,o){var u=0,s=O(r);if("number"==typeof o)t>0?u=o>=0?o:Math.max(o+s,u):s=o>=0?Math.min(o+1,s):o+s+1;else if(e&&o&&s)return o=e(r,i),r[o]===i?o:-1;if(i!==i)return o=n(h.call(r,u,s),E.isNaN),o>=0?o+u:-1;for(o=t>0?u:s-1;o>=0&&s>o;o+=t)if(r[o]===i)return o;return-1}}function o(t,n){var e=L.length,r=t.constructor,i=E.isFunction(r)&&r.prototype||c,o="constructor";for(E.has(t,o)&&!E.contains(n,o)&&n.push(o);e--;)o=L[e],o in t&&t[o]!==i[o]&&!E.contains(n,o)&&n.push(o)}var u=this,s=u._,a=Array.prototype,c=Object.prototype,l=Function.prototype,f=a.push,h=a.slice,p=c.toString,v=c.hasOwnProperty,y=Array.isArray,g=Object.keys,d=l.bind,m=Object.create,_=function(){},E=function(t){return t instanceof E?t:this instanceof E?void(this._wrapped=t):new E(t)};"undefined"!=typeof e?("undefined"!=typeof n&&n.exports&&(e=n.exports=E),e._=E):u._=E,E.VERSION="1.8.3";var w=function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)}}return function(){return t.apply(n,arguments)}},b=function(t,n,e){return null==t?E.identity:E.isFunction(t)?w(t,n,e):E.isObject(t)?E.matcher(t):E.property(t)};E.iteratee=function(t,n){return b(t,n,1/0)};var x=function(t,n){return function(e){var r=arguments.length;if(2>r||null==e)return e;for(var i=1;r>i;i++)for(var o=arguments[i],u=t(o),s=u.length,a=0;s>a;a++){var c=u[a];n&&void 0!==e[c]||(e[c]=o[c])}return e}},T=function(t){if(!E.isObject(t))return{};if(m)return m(t);_.prototype=t;var n=new _;return _.prototype=null,n},S=function(t){return function(n){return null==n?void 0:n[t]}},A=Math.pow(2,53)-1,O=S("length"),C=function(t){var n=O(t);return"number"==typeof n&&n>=0&&A>=n};E.each=E.forEach=function(t,n,e){n=w(n,e);var r,i;if(C(t))for(r=0,i=t.length;i>r;r++)n(t[r],r,t);else{var o=E.keys(t);for(r=0,i=o.length;i>r;r++)n(t[o[r]],o[r],t)}return t},E.map=E.collect=function(t,n,e){n=b(n,e);for(var r=!C(t)&&E.keys(t),i=(r||t).length,o=Array(i),u=0;i>u;u++){var s=r?r[u]:u;o[u]=n(t[s],s,t)}return o},E.reduce=E.foldl=E.inject=t(1),E.reduceRight=E.foldr=t(-1),E.find=E.detect=function(t,n,e){var r;return r=C(t)?E.findIndex(t,n,e):E.findKey(t,n,e),void 0!==r&&-1!==r?t[r]:void 0},E.filter=E.select=function(t,n,e){var r=[];return n=b(n,e),E.each(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r},E.reject=function(t,n,e){return E.filter(t,E.negate(b(n)),e)},E.every=E.all=function(t,n,e){n=b(n,e);for(var r=!C(t)&&E.keys(t),i=(r||t).length,o=0;i>o;o++){var u=r?r[o]:o;if(!n(t[u],u,t))return!1}return!0},E.some=E.any=function(t,n,e){n=b(n,e);for(var r=!C(t)&&E.keys(t),i=(r||t).length,o=0;i>o;o++){var u=r?r[o]:o;if(n(t[u],u,t))return!0}return!1},E.contains=E.includes=E.include=function(t,n,e,r){return C(t)||(t=E.values(t)),("number"!=typeof e||r)&&(e=0),E.indexOf(t,n,e)>=0},E.invoke=function(t,n){var e=h.call(arguments,2),r=E.isFunction(n);return E.map(t,function(t){var i=r?n:t[n];return null==i?i:i.apply(t,e)})},E.pluck=function(t,n){return E.map(t,E.property(n))},E.where=function(t,n){return E.filter(t,E.matcher(n))},E.findWhere=function(t,n){return E.find(t,E.matcher(n))},E.max=function(t,n,e){var r,i,o=-(1/0),u=-(1/0);if(null==n&&null!=t){t=C(t)?t:E.values(t);for(var s=0,a=t.length;a>s;s++)r=t[s],r>o&&(o=r)}else n=b(n,e),E.each(t,function(t,e,r){i=n(t,e,r),(i>u||i===-(1/0)&&o===-(1/0))&&(o=t,u=i)});return o},E.min=function(t,n,e){var r,i,o=1/0,u=1/0;if(null==n&&null!=t){t=C(t)?t:E.values(t);for(var s=0,a=t.length;a>s;s++)r=t[s],o>r&&(o=r)}else n=b(n,e),E.each(t,function(t,e,r){i=n(t,e,r),(u>i||i===1/0&&o===1/0)&&(o=t,u=i)});return o},E.shuffle=function(t){for(var n,e=C(t)?t:E.values(t),r=e.length,i=Array(r),o=0;r>o;o++)n=E.random(0,o),n!==o&&(i[o]=i[n]),i[n]=e[o];return i},E.sample=function(t,n,e){return null==n||e?(C(t)||(t=E.values(t)),t[E.random(t.length-1)]):E.shuffle(t).slice(0,Math.max(0,n))},E.sortBy=function(t,n,e){return n=b(n,e),E.pluck(E.map(t,function(t,e,r){return{value:t,index:e,criteria:n(t,e,r)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return t.index-n.index}),"value")};var k=function(t){return function(n,e,r){var i={};return e=b(e,r),E.each(n,function(r,o){var u=e(r,o,n);t(i,r,u)}),i}};E.groupBy=k(function(t,n,e){E.has(t,e)?t[e].push(n):t[e]=[n]}),E.indexBy=k(function(t,n,e){t[e]=n}),E.countBy=k(function(t,n,e){E.has(t,e)?t[e]++:t[e]=1}),E.toArray=function(t){return t?E.isArray(t)?h.call(t):C(t)?E.map(t,E.identity):E.values(t):[]},E.size=function(t){return null==t?0:C(t)?t.length:E.keys(t).length},E.partition=function(t,n,e){n=b(n,e);var r=[],i=[];return E.each(t,function(t,e,o){(n(t,e,o)?r:i).push(t)}),[r,i]},E.first=E.head=E.take=function(t,n,e){return null==t?void 0:null==n||e?t[0]:E.initial(t,t.length-n)},E.initial=function(t,n,e){return h.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))},E.last=function(t,n,e){return null==t?void 0:null==n||e?t[t.length-1]:E.rest(t,Math.max(0,t.length-n))},E.rest=E.tail=E.drop=function(t,n,e){return h.call(t,null==n||e?1:n)},E.compact=function(t){return E.filter(t,E.identity)};var N=function(t,n,e,r){for(var i=[],o=0,u=r||0,s=O(t);s>u;u++){var a=t[u];if(C(a)&&(E.isArray(a)||E.isArguments(a))){n||(a=N(a,n,e));var c=0,l=a.length;for(i.length+=l;l>c;)i[o++]=a[c++]}else e||(i[o++]=a)}return i};E.flatten=function(t,n){return N(t,n,!1)},E.without=function(t){return E.difference(t,h.call(arguments,1))},E.uniq=E.unique=function(t,n,e,r){E.isBoolean(n)||(r=e,e=n,n=!1),null!=e&&(e=b(e,r));for(var i=[],o=[],u=0,s=O(t);s>u;u++){var a=t[u],c=e?e(a,u,t):a;n?(u&&o===c||i.push(a),o=c):e?E.contains(o,c)||(o.push(c),i.push(a)):E.contains(i,a)||i.push(a)}return i},E.union=function(){return E.uniq(N(arguments,!0,!0))},E.intersection=function(t){for(var n=[],e=arguments.length,r=0,i=O(t);i>r;r++){var o=t[r];if(!E.contains(n,o)){for(var u=1;e>u&&E.contains(arguments[u],o);u++);u===e&&n.push(o)}}return n},E.difference=function(t){var n=N(arguments,!0,!0,1);return E.filter(t,function(t){return!E.contains(n,t)})},E.zip=function(){return E.unzip(arguments)},E.unzip=function(t){for(var n=t&&E.max(t,O).length||0,e=Array(n),r=0;n>r;r++)e[r]=E.pluck(t,r);return e},E.object=function(t,n){for(var e={},r=0,i=O(t);i>r;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},E.findIndex=r(1),E.findLastIndex=r(-1),E.sortedIndex=function(t,n,e,r){e=b(e,r,1);for(var i=e(n),o=0,u=O(t);u>o;){var s=Math.floor((o+u)/2);e(t[s])<i?o=s+1:u=s}return o},E.indexOf=i(1,E.findIndex,E.sortedIndex),E.lastIndexOf=i(-1,E.findLastIndex),E.range=function(t,n,e){null==n&&(n=t||0,t=0),e=e||1;for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;r>o;o++,t+=e)i[o]=t;return i};var R=function(t,n,e,r,i){if(!(r instanceof n))return t.apply(e,i);var o=T(t.prototype),u=t.apply(o,i);return E.isObject(u)?u:o};E.bind=function(t,n){if(d&&t.bind===d)return d.apply(t,h.call(arguments,1));if(!E.isFunction(t))throw new TypeError("Bind must be called on a function");var e=h.call(arguments,2),r=function(){return R(t,r,n,this,e.concat(h.call(arguments)))};return r},E.partial=function(t){var n=h.call(arguments,1),e=function(){for(var r=0,i=n.length,o=Array(i),u=0;i>u;u++)o[u]=n[u]===E?arguments[r++]:n[u];for(;r<arguments.length;)o.push(arguments[r++]);return R(t,e,this,this,o)};return e},E.bindAll=function(t){var n,e,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(n=1;r>n;n++)e=arguments[n],t[e]=E.bind(t[e],t);return t},E.memoize=function(t,n){var e=function(r){var i=e.cache,o=""+(n?n.apply(this,arguments):r);return E.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e},E.delay=function(t,n){var e=h.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},E.defer=E.partial(E.delay,E,1),E.throttle=function(t,n,e){var r,i,o,u=null,s=0;e||(e={});var a=function(){s=e.leading===!1?0:E.now(),u=null,o=t.apply(r,i),u||(r=i=null)};return function(){var c=E.now();s||e.leading!==!1||(s=c);var l=n-(c-s);return r=this,i=arguments,0>=l||l>n?(u&&(clearTimeout(u),u=null),s=c,o=t.apply(r,i),u||(r=i=null)):u||e.trailing===!1||(u=setTimeout(a,l)),o}},E.debounce=function(t,n,e){var r,i,o,u,s,a=function(){var c=E.now()-u;n>c&&c>=0?r=setTimeout(a,n-c):(r=null,e||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,u=E.now();var c=e&&!r;return r||(r=setTimeout(a,n)),c&&(s=t.apply(o,i),o=i=null),s}},E.wrap=function(t,n){return E.partial(n,t)},E.negate=function(t){return function(){return!t.apply(this,arguments)}},E.compose=function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},E.after=function(t,n){return function(){return--t<1?n.apply(this,arguments):void 0}},E.before=function(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),1>=t&&(n=null),e}},E.once=E.partial(E.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];E.keys=function(t){if(!E.isObject(t))return[];if(g)return g(t);var n=[];for(var e in t)E.has(t,e)&&n.push(e);return I&&o(t,n),n},E.allKeys=function(t){if(!E.isObject(t))return[];var n=[];for(var e in t)n.push(e);return I&&o(t,n),n},E.values=function(t){for(var n=E.keys(t),e=n.length,r=Array(e),i=0;e>i;i++)r[i]=t[n[i]];return r},E.mapObject=function(t,n,e){n=b(n,e);for(var r,i=E.keys(t),o=i.length,u={},s=0;o>s;s++)r=i[s],u[r]=n(t[r],r,t);return u},E.pairs=function(t){for(var n=E.keys(t),e=n.length,r=Array(e),i=0;e>i;i++)r[i]=[n[i],t[n[i]]];return r},E.invert=function(t){for(var n={},e=E.keys(t),r=0,i=e.length;i>r;r++)n[t[e[r]]]=e[r];return n},E.functions=E.methods=function(t){var n=[];for(var e in t)E.isFunction(t[e])&&n.push(e);return n.sort()},E.extend=x(E.allKeys),E.extendOwn=E.assign=x(E.keys),E.findKey=function(t,n,e){n=b(n,e);for(var r,i=E.keys(t),o=0,u=i.length;u>o;o++)if(r=i[o],n(t[r],r,t))return r},E.pick=function(t,n,e){var r,i,o={},u=t;if(null==u)return o;E.isFunction(n)?(i=E.allKeys(u),r=w(n,e)):(i=N(arguments,!1,!1,1),r=function(t,n,e){return n in e},u=Object(u));for(var s=0,a=i.length;a>s;s++){var c=i[s],l=u[c];r(l,c,u)&&(o[c]=l)}return o},E.omit=function(t,n,e){if(E.isFunction(n))n=E.negate(n);else{var r=E.map(N(arguments,!1,!1,1),String);n=function(t,n){return!E.contains(r,n)}}return E.pick(t,n,e)},E.defaults=x(E.allKeys,!0),E.create=function(t,n){var e=T(t);return n&&E.extendOwn(e,n),e},E.clone=function(t){return E.isObject(t)?E.isArray(t)?t.slice():E.extend({},t):t},E.tap=function(t,n){return n(t),t},E.isMatch=function(t,n){var e=E.keys(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;r>o;o++){var u=e[o];if(n[u]!==i[u]||!(u in i))return!1}return!0};var j=function(t,n,e,r){if(t===n)return 0!==t||1/t===1/n;if(null==t||null==n)return t===n;t instanceof E&&(t=t._wrapped),n instanceof E&&(n=n._wrapped);var i=p.call(t);if(i!==p.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!==+t?+n!==+n:0===+t?1/+t===1/n:+t===+n;case"[object Date]":case"[object Boolean]":return+t===+n}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,s=n.constructor;if(u!==s&&!(E.isFunction(u)&&u instanceof u&&E.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in n)return!1}e=e||[],r=r||[];for(var a=e.length;a--;)if(e[a]===t)return r[a]===n;if(e.push(t),r.push(n),o){if(a=t.length,a!==n.length)return!1;for(;a--;)if(!j(t[a],n[a],e,r))return!1}else{var c,l=E.keys(t);if(a=l.length,E.keys(n).length!==a)return!1;for(;a--;)if(c=l[a],!E.has(n,c)||!j(t[c],n[c],e,r))return!1}return e.pop(),r.pop(),!0};E.isEqual=function(t,n){return j(t,n)},E.isEmpty=function(t){return null==t?!0:C(t)&&(E.isArray(t)||E.isString(t)||E.isArguments(t))?0===t.length:0===E.keys(t).length},E.isElement=function(t){return!(!t||1!==t.nodeType)},E.isArray=y||function(t){return"[object Array]"===p.call(t)},E.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},E.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){E["is"+t]=function(n){return p.call(n)==="[object "+t+"]"}}),E.isArguments(arguments)||(E.isArguments=function(t){return E.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(E.isFunction=function(t){return"function"==typeof t||!1}),E.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},E.isNaN=function(t){return E.isNumber(t)&&t!==+t},E.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===p.call(t)},E.isNull=function(t){return null===t},E.isUndefined=function(t){return void 0===t},E.has=function(t,n){return null!=t&&v.call(t,n)},E.noConflict=function(){return u._=s,this},E.identity=function(t){return t},E.constant=function(t){return function(){return t}},E.noop=function(){},E.property=S,E.propertyOf=function(t){return null==t?function(){}:function(n){return t[n]}},E.matcher=E.matches=function(t){return t=E.extendOwn({},t),function(n){return E.isMatch(n,t)}},E.times=function(t,n,e){var r=Array(Math.max(0,t));n=w(n,e,1);for(var i=0;t>i;i++)r[i]=n(i);return r},E.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},E.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=E.invert(F),D=function(t){var n=function(n){return t[n]},e="(?:"+E.keys(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}};E.escape=D(F),E.unescape=D(M),E.result=function(t,n,e){var r=null==t?void 0:t[n];return void 0===r&&(r=e),E.isFunction(r)?r.call(t):r};var z=0;E.uniqueId=function(t){var n=++z+"";return t?t+n:n},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,q=function(t){return"\\"+U[t]};E.template=function(t,n,e){!n&&e&&(n=e),n=E.defaults({},n,E.templateSettings);var r=RegExp([(n.escape||K).source,(n.interpolate||K).source,(n.evaluate||K).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(n,e,r,u,s){return o+=t.slice(i,s).replace(G,q),i=s+n.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":u&&(o+="';\n"+u+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var u=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}var a=function(t){return u.call(this,t,E)},c=n.variable||"obj";return a.source="function("+c+"){\n"+o+"}",a},E.chain=function(t){var n=E(t);return n._chain=!0,n};var P=function(t,n){return t._chain?E(n).chain():n};E.mixin=function(t){E.each(E.functions(t),function(n){var e=E[n]=t[n];E.prototype[n]=function(){var t=[this._wrapped];return f.apply(t,arguments),P(this,e.apply(E,t))}})},E.mixin(E),E.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=a[t];E.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],P(this,e)}}),E.each(["concat","join","slice"],function(t){var n=a[t];E.prototype[t]=function(){return P(this,n.apply(this._wrapped,arguments))}}),E.prototype.value=function(){return this._wrapped},E.prototype.valueOf=E.prototype.toJSON=E.prototype.value,E.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return E})}).call(this)},{}],12:[function(t,n,e){window.EyeTribe=t("../lib/index")},{"../lib/index":5}]},{},[12]);